<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Open Directory Search</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 24px;
      color: #f0f0f0;
      background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('images/background.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    .container {
      width: 100%;
      max-width: 800px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(16px);
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), 0 4px 16px rgba(255, 255, 255, 0.1), inset 0 1px 2px rgba(255, 255, 255, 0.3);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: transform 0.3s ease, box-shadow 0.5s ease;
      padding: 32px;
      position: relative;
      animation: containerFloat 6s ease-in-out infinite;
    }

    @keyframes containerFloat {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-5px) scale(1.01); }
    }

    .header {
      padding: 24px;
      text-align: center;
      background: rgba(255, 255, 255, 0.05);
      border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      margin-bottom: 24px;
      position: relative;
      overflow: hidden;
    }

    .header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .header h1 {
      font-size: 28px;
      font-weight: 600;
      color: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      position: relative;
      z-index: 1;
    }

    .header h1 i {
      color: #5b86e5;
      font-size: 28px;
      animation: iconPulse 2s infinite;
    }

    @keyframes iconPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .search-form {
      margin-bottom: 24px;
    }

    .input-group {
      width: 100%;
      display: flex;
      flex-wrap: nowrap;
    }

    .input-group-btn {
      flex-shrink: 0;
    }

    .btn-group {
      display: flex;
    }

    .btn {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      color: #f0f0f0;
      border: 1px solid rgba(255, 255, 255, 0.4);
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 4px 12px rgba(91, 134, 229, 0.3), 0 2px 6px rgba(0, 0, 0, 0.2), inset 0 1px 2px rgba(255, 255, 255, 0.3), inset 0 -1px 2px rgba(0, 0, 0, 0.1);
      margin-right: 5px;
      white-space: nowrap;
      position: relative;
      overflow: hidden;
    }

    .btn::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(255,255,255,0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .btn:hover::after {
      opacity: 1;
    }

    .btn:hover {
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 6px 16px rgba(91, 134, 229, 0.4), 0 3px 8px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.4), inset 0 -1px 2px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    .btn:focus, .btn:active {
      outline: none;
      box-shadow: 0 0 0 2px rgba(91, 134, 229, 0.5);
    }

    .btn-default {
      background: rgba(255, 255, 255, 0.15);
      color: #f0f0f0;
    }

    .dropdown-menu {
      background: rgba(50, 50, 70, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
      animation: dropdownSlide 0.3s ease-out;
    }

    @keyframes dropdownSlide {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .dropdown-menu li a {
      color: #f0f0f0;
      padding: 10px 20px;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .dropdown-menu li a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(91, 134, 229, 0.2), transparent);
      transition: left 0.5s;
    }

    .dropdown-menu li a:hover::before {
      left: 100%;
    }

    .dropdown-menu li a:hover {
      background: rgba(91, 134, 229, 0.3);
      color: #fff;
    }

    .form-control {
      background: rgba(255, 255, 255, 0.15);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      color: #f0f0f0;
      padding: 10px 15px;
      font-size: 16px;
      height: auto;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    .form-control:focus {
      background: rgba(255, 255, 255, 0.2);
      border-color: #5b86e5;
      box-shadow: 0 0 0 2px rgba(91, 134, 229, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.1);
      color: #f0f0f0;
    }

    .form-control::placeholder {
      color: rgba(255, 255, 255, 0.7);
    }

    .search-btn {
      background: rgba(91, 134, 229, 0.8);
      border-color: rgba(91, 134, 229, 0.9);
      padding: 10px 20px;
      border-radius: 8px;
      margin-left: 5px;
      position: relative;
      overflow: hidden;
    }

    .search-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .search-btn:hover::before {
      left: 100%;
    }

    .search-btn:hover {
      background: rgba(91, 134, 229, 0.9);
    }

    .footer {
      margin-top: 30px;
      text-align: center;
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
      padding: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .footer-text {
      display: inline-block;
      position: relative;
    }
    
    .footer-text::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 2px;
      bottom: -5px;
      left: 0;
      background: linear-gradient(90deg, #5b86e5, #36d1dc);
      transform: scaleX(0);
      transform-origin: bottom right;
      transition: transform 0.5s ease;
      animation: continuousLine 3s infinite;
    }
    
    @keyframes continuousLine {
      0% {
        transform: scaleX(0);
        transform-origin: bottom left;
      }
      50% {
        transform: scaleX(1);
        transform-origin: bottom left;
      }
      51% {
        transform: scaleX(1);
        transform-origin: bottom right;
      }
      100% {
        transform: scaleX(0);
        transform-origin: bottom right;
      }
    }

    .info-section {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .info-section h3 {
      color: #f0f0f0;
      margin-bottom: 15px;
      font-size: 18px;
      font-weight: 500;
    }

    .info-section p {
      color: rgba(255, 255, 255, 0.8);
      font-size: 14px;
      line-height: 1.5;
    }

    .recent-searches {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 15px;
      margin-top: 15px;
      animation: fadeIn 1s ease-out;
    }

    .recent-searches h4 {
      color: #f0f0f0;
      margin-bottom: 10px;
      font-size: 16px;
      font-weight: 500;
    }

    .recent-search-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .search-tag {
      background: rgba(91, 134, 229, 0.3);
      border: 1px solid rgba(91, 134, 229, 0.5);
      border-radius: 20px;
      padding: 5px 12px;
      font-size: 12px;
      color: #f0f0f0;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .search-tag:hover {
      background: rgba(91, 134, 229, 0.5);
      transform: scale(1.05);
    }

    .theme-toggle {
      position: fixed;
      top: 14px;
      right: 14px;
      z-index: 2147483647;
      width: 52px;
      height: 52px;
      padding: 0;
      border-radius: 50%;
      border: none;
      background: linear-gradient(180deg,#ffffff,#f2f2f2);
      box-shadow: 0 4px 12px rgba(0,0,0,0.18);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, box-shadow .12s ease;
      backdrop-filter: blur(6px);
      opacity: 0.98;
    }

    .theme-toggle:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    }

    .theme-toggle i {
      font-size: 20px;
      color: #111;
    }

    .stats {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
      padding: 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 24px;
      font-weight: 600;
      color: #5b86e5;
    }

    .stat-label {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 5px;
    }

    .feature-highlights {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-top: 20px;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.15);
    }

    .feature-card i {
      font-size: 24px;
      color: #5b86e5;
      margin-bottom: 10px;
    }

    .feature-card h5 {
      font-size: 14px;
      margin-bottom: 5px;
    }

    .feature-card p {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
    }

    @media (max-width: 768px) {
      .container {
        padding: 16px;
      }
      .header {
        padding: 16px;
      }
      .header h1 {
        font-size: 24px;
      }
      .input-group {
        flex-wrap: wrap;
      }
      .btn-group {
        width: 100%;
        margin-bottom: 10px;
      }
      .btn-group .btn {
        flex: 1;
        margin-bottom: 5px;
      }
      .form-control {
        width: 100%;
        margin-bottom: 10px;
      }
      .search-btn {
        width: 100%;
        margin-left: 0;
      }
      .feature-highlights {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1><i class="fas fa-search"></i> Open Directory Search</h1>
      <p style="color: rgba(255, 255, 255, 0.8); margin-top: 10px;">Find direct download links for almost anything</p>
    </div>

    <div class="search-form">
      <form id="searchForm" onsubmit="event.preventDefault(); startSearch();">
        <input type="hidden" name="fileType" value="" id="fileType">
        <input type="hidden" name="resType" value="" id="resType">
        <input type="hidden" name="engine" value="google" id="engine">
        
        <div class="input-group">
          <div class="btn-group">
            <div class="input-group-btn">
              <button id="ddbutton" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="glyphicon glyphicon-film" aria-hidden="true"></span> TV/Movies <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#" onclick="setFiletype('mkv|mp4|avi|mov|mpg|wmv|divx|mpeg', 'TV/Movies', 'video', 'film')"><span class="glyphicon glyphicon-film" aria-hidden="true"></span> TV/Movies/Video</a></li>
                <li><a href="#" onclick="setFiletype('MOBI|CBZ|CBR|CBC|CHM|EPUB|FB2|LIT|LRF|ODT|PDF|PRC|PDB|PML|RB|RTF|TCR|DOC|DOCX', 'Books', 'ebook', 'book')"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Books</a></li>
                <li><a href="#" onclick="setFiletype('mp3|wav|ac3|ogg|flac|wma|m4a|aac|mod', 'Music', 'audio', 'music')"><span class="glyphicon glyphicon-music" aria-hidden="true"></span> Music</a></li>
                <li><a href="#" onclick="setFiletype('exe|iso|dmg|tar|7z|bz2|gz|rar|zip|apk', 'Software/ISO/DMG/Games', 'archive', 'cd')"><span class="glyphicon glyphicon-cd" aria-hidden="true"></span> Software/ISO/DMG/Games</a></li>
                <li><a href="#" onclick="setFiletype('jpg|png|bmp|gif|tif|tiff|psd', 'Images', 'picture', 'picture')"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Images</a></li>
                <li><a href="#" onclick="setFiletype('-1', 'Other', 'all', 'asterisk')"><span class="glyphicon glyphicon-asterisk" aria-hidden="true"></span> Other</a></li>
              </ul>
            </div>
            
            <div class="input-group-btn">
              <button id="egbutton" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Google <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="#" onclick="setEngine('google')">Google</a></li>
                <li><a href="#" onclick="setEngine('googol')">Googol</a></li>
                <li><a href="#" onclick="setEngine('startpage')">Startpage</a></li>
                <li><a href="#" onclick="setEngine('searx')">Searx</a></li>
                <li><a href="#" onclick="setEngine('filepursuit')">FilePursuit</a></li>
              </ul>
            </div>
          </div>
          
          <input type="text" name="query" value="" id="query" class="form-control" placeholder="Search anything e.g The.Blacklist.S01.E01">
          
          <span class="input-group-btn">
            <button type="submit" class="btn search-btn">
              <span class="glyphicon glyphicon-search" aria-hidden="true"></span> Search
            </button>
          </span>
        </div>
      </form>
    </div>

    <div class="recent-searches">
      <h4>Recent Searches</h4>
      <div class="recent-search-tags" id="recentSearches">
        <!-- Recent searches will be populated here -->
      </div>
    </div>
    
    <div class="stats">
      <div class="stat-item">
        <div class="stat-number" id="searchCount">0</div>
        <div class="stat-label">Searches Today</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="fileCount">0</div>
        <div class="stat-label">Files Found</div>
      </div>
      <div class="stat-item">
        <div class="stat-number" id="userCount">0</div>
        <div class="stat-label">Active Users</div>
      </div>
    </div>
    
    <div class="feature-highlights">
      <div class="feature-card">
        <i class="fas fa-bolt"></i>
        <h5>Fast Results</h5>
        <p>Get instant access to direct download links</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-shield-alt"></i>
        <h5>Safe & Secure</h5>
        <p>All searches are private and secure</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-filter"></i>
        <h5>Smart Filtering</h5>
        <p>Find exactly what you're looking for</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-infinity"></i>
        <h5>Unlimited Access</h5>
        <p>No restrictions on searches or downloads</p>
      </div>
    </div>
    
    <div class="info-section">
      <h3>How to use:</h3>
      <p>1. Select a file type from the dropdown</p>
      <p>2. Choose your preferred search engine</p>
      <p>3. Enter your search query and click Search</p>
      <p>4. Find direct download links in the search results</p>
    </div>
    
    <div class="footer">
      <div class="footer-text">Secure • Free • Professional | Made with <span style="color: #ff4d4d;">❤️</span> by <a href="https://www.instagram.com/sandeep_yadav_._._" target="_blank" style="color: #5b86e5; text-decoration: none;">Sandeep</a></div>
    </div>
  </div>

  <!-- Back Button -->
  <button
    type="button"
    title="Back"
    aria-label="Go back"
    onclick="(function(){ if(window.history.length>1){ history.back(); } else if(document.referrer){ location.href = document.referrer; } else { location.href = '/'; } })();"
    onkeydown="if(event.key==='Enter' || event.code==='Space'){ event.preventDefault(); (function(){ if(window.history.length>1){ history.back(); } else if(document.referrer){ location.href = document.referrer; } else { location.href = '/'; } })(); }"
    onmouseenter="this.style.transform='translateY(-2px) scale(1.02)'; this.style.boxShadow='0 6px 18px rgba(0,0,0,0.25)';"
    onmouseleave="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 4px 12px rgba(0,0,0,0.18)';"
    style="
      position:fixed;
      top:14px;
      left:14px;
      z-index:2147483647;
      width:52px;
      height:52px;
      padding:0;
      border-radius:50%;
      border:none;
      background:linear-gradient(180deg,#ffffff,#f2f2f2);
      box-shadow:0 4px 12px rgba(0,0,0,0.18);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      -webkit-tap-highlight-color:transparent;
      transition:transform .12s ease, box-shadow .12s ease;
      backdrop-filter:blur(6px);
      opacity:0.98;
    "
  >
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
      <path d="M15 18l-6-6 6-6" stroke="#111" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"></path>
    </svg>
  </button>

  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" title="Toggle Theme">
    <i class="fas fa-moon"></i>
  </button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  
  <script>
    // Initialize with default values
    document.addEventListener('DOMContentLoaded', function() {
      setFiletype('mkv|mp4|avi|mov|mpg|wmv|divx|mpeg', 'TV/Movies', 'video', 'film');
      setEngine('google');
      updateStats();
      loadRecentSearches();
      
      // Initialize theme
      const savedTheme = localStorage.getItem('theme') || 'dark';
      setTheme(savedTheme);
      
      // Theme toggle functionality
      document.getElementById('themeToggle').addEventListener('click', function() {
        const currentTheme = document.body.getAttribute('data-theme') || 'dark';
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
      });
    });

    function setFiletype(fileType, buttonData, resType, glyph) {
      var defaultString = 'Search anything';
      if (fileType==-1) {
        fileType="";
      }
      switch(glyph) {
        case 'film':
          $("#query").prop('placeholder',defaultString+' eg. The.Blacklist.S01');
          break;
        case 'music':
          $("#query").prop('placeholder',defaultString+' eg. K.Flay discography');
          break;
        case 'book':
          $("#query").prop('placeholder',defaultString+' eg. 1985');
          break;
        case 'cd':
          $("#query").prop('placeholder',defaultString+' eg. GTA V');
          break;
        case 'picture':
          $("#query").prop('placeholder',defaultString+' eg. Donald Trump');
          break;
        case 'asterisk':
          $("#query").prop('placeholder',defaultString);
          break;
      }
      $("#fileType").prop('value',fileType);
      $("#resType").prop('value',resType);
      $("#ddbutton").html('<span class="glyphicon glyphicon-'+glyph+'" aria-hidden="true"></span> '+buttonData+' <span class="caret"></span>');
      $("#query").focus();
    }
    
    function setEngine(engine) {
      $("#engine").prop('value',engine);
      $("#egbutton").html('<span class="glyphicon glyphicon-search" aria-hidden="true"></span> '+engine+' <span class="caret"></span>');
      $("#query").focus();
    }
    
    function startSearch (engine = '') {
      var query = document.getElementById('query').value;
      var fileType = document.getElementById('fileType').value;
      var resType = document.getElementById('resType').value;
      var engine = document.getElementById('engine').value;
      
      if (!query) {
        // Add shake animation to input if empty
        $("#query").addClass('shake');
        setTimeout(() => {
          $("#query").removeClass('shake');
        }, 500);
        return;
      }
      
      // Save to recent searches
      saveToRecentSearches(query);
      
      if (fileType=="") {
        if(engine=="filepursuit") {
          fileType = "all";
        }
        var finalQuery = query+" -inurl:(jsp|pl|php|html|aspx|htm|cf|shtml) intitle:index.of -inurl:(listen77|mp3raid|mp3toss|mp3drug|index_of|index-of|wallywashis|downloadmana)";
      } else {
        var finalQuery = query+" +("+fileType+") -inurl:(jsp|pl|php|html|aspx|htm|cf|shtml) intitle:index.of -inurl:(listen77|mp3raid|mp3toss|mp3drug|index_of|index-of|wallywashis|downloadmana)";
      }
      switch(engine) {
        case 'google':
          var url = "https://www.google.com/search?q="+encodeURIComponent(finalQuery);
          break;
        case 'googol':
          var url = "https://googol.warriordudimanche.net/?q="+encodeURIComponent(finalQuery);
          break;
        case 'startpage':
          var url = "https://www.startpage.com/do/dsearch?query="+encodeURIComponent(finalQuery);
          break;
        case 'searx':
          var url = "https://searx.me/?q="+encodeURIComponent(finalQuery);
          break;
        case 'filepursuit':
          var url = "https://filepursuit.com/search/"+query.replace(/ /g,"+")+"/type/"+resType;
          break;
      }
      console.log(url);
      
      // Update search count
      updateSearchCount();
      
      // Show loading animation
      const searchBtn = document.querySelector('.search-btn');
      const originalText = searchBtn.innerHTML;
      searchBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Searching...';
      searchBtn.disabled = true;
      
      setTimeout(() => {
        window.open(url, '_blank');
        searchBtn.innerHTML = originalText;
        searchBtn.disabled = false;
      }, 1000);
    }
    
    function openDropdown(){
      $('#ddbutton').click();
    }
    
    // Recent searches functionality
    function saveToRecentSearches(query) {
      let recentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];
      
      // Remove if already exists
      recentSearches = recentSearches.filter(item => item !== query);
      
      // Add to beginning
      recentSearches.unshift(query);
      
      // Keep only last 5
      if (recentSearches.length > 5) {
        recentSearches = recentSearches.slice(0, 5);
      }
      
      localStorage.setItem('recentSearches', JSON.stringify(recentSearches));
      loadRecentSearches();
    }
    
    function loadRecentSearches() {
      const recentSearches = JSON.parse(localStorage.getItem('recentSearches')) || [];
      const container = document.getElementById('recentSearches');
      
      container.innerHTML = '';
      
      if (recentSearches.length === 0) {
        container.innerHTML = '<p style="color: rgba(255,255,255,0.5); font-size: 12px;">No recent searches</p>';
        return;
      }
      
      recentSearches.forEach(query => {
        const tag = document.createElement('div');
        tag.className = 'search-tag';
        tag.textContent = query;
        tag.addEventListener('click', () => {
          document.getElementById('query').value = query;
          document.getElementById('query').focus();
        });
        container.appendChild(tag);
      });
    }
    
    // Stats functionality
    function updateStats() {
      // Get current date for daily reset
      const today = new Date().toDateString();
      const lastReset = localStorage.getItem('lastReset');
      
      // Reset counts if it's a new day
      if (lastReset !== today) {
        localStorage.setItem('lastReset', today);
        localStorage.setItem('searchCount', '0');
      }
      
      // Get or initialize counts
      let searchCount = parseInt(localStorage.getItem('searchCount')) || 0;
      let fileCount = Math.floor(Math.random() * 10000) + 5000; // Simulated data
      let userCount = Math.floor(Math.random() * 1000) + 500; // Simulated data
      
      // Update display
      document.getElementById('searchCount').textContent = searchCount;
      document.getElementById('fileCount').textContent = fileCount.toLocaleString();
      document.getElementById('userCount').textContent = userCount.toLocaleString();
    }
    
    function updateSearchCount() {
      let searchCount = parseInt(localStorage.getItem('searchCount')) || 0;
      searchCount++;
      localStorage.setItem('searchCount', searchCount.toString());
      document.getElementById('searchCount').textContent = searchCount;
    }
    
    // Theme functionality
    function setTheme(theme) {
      document.body.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      
      const themeIcon = document.querySelector('#themeToggle i');
      if (theme === 'light') {
        themeIcon.className = 'fas fa-sun';
        document.body.style.background = 'linear-gradient(rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.7)), url("images/background.jpg")';
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundAttachment = 'fixed';
      } else {
        themeIcon.className = 'fas fa-moon';
        document.body.style.background = 'linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url("images/background.jpg")';
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundAttachment = 'fixed';
      }
    }
  </script>
</body>
</html>
